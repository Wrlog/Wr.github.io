<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Analytics Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .info { color: #007bff; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üîç Google Analytics Verification Test</h1>
    
    <div class="test-box">
        <h2>Step 1: Check if gtag.js is loaded</h2>
        <button onclick="checkGtag()">Test gtag Function</button>
        <div id="gtag-result"></div>
    </div>
    
    <div class="test-box">
        <h2>Step 2: Check dataLayer</h2>
        <button onclick="checkDataLayer()">Test dataLayer</button>
        <div id="datalayer-result"></div>
    </div>
    
    <div class="test-box">
        <h2>Step 3: Check Network Requests</h2>
        <p class="info">Open DevTools (F12) ‚Üí Network tab ‚Üí Filter by "gtag" ‚Üí Reload page</p>
        <button onclick="checkNetwork()">Check if requests were made</button>
        <div id="network-result"></div>
    </div>
    
    <div class="test-box">
        <h2>Step 4: Manual Console Commands</h2>
        <p>Copy and paste these into the Console tab:</p>
        <pre id="console-commands">
// Check gtag function
console.log('gtag type:', typeof gtag);

// Check dataLayer
console.log('dataLayer:', window.dataLayer);

// Check if script tag exists
const gaScript = document.querySelector('script[src*="googletagmanager"]');
console.log('GA Script found:', !!gaScript);
if (gaScript) {
    console.log('GA Script src:', gaScript.src);
}

// Check GA ID in config
console.log('GA Config:', window.dataLayer?.find(item => item[0] === 'config'));
        </pre>
        <button onclick="runAllTests()">Run All Tests Automatically</button>
        <div id="all-results"></div>
    </div>

    <script>
        function checkGtag() {
            const result = document.getElementById('gtag-result');
            if (typeof gtag === 'function') {
                result.innerHTML = '<p class="success">‚úÖ SUCCESS: gtag function is loaded!</p>';
            } else {
                result.innerHTML = '<p class="error">‚ùå ERROR: gtag function not found. Google Analytics may not be loaded.</p>';
            }
        }
        
        function checkDataLayer() {
            const result = document.getElementById('datalayer-result');
            if (window.dataLayer && Array.isArray(window.dataLayer)) {
                result.innerHTML = `<p class="success">‚úÖ SUCCESS: dataLayer exists!</p><pre>${JSON.stringify(window.dataLayer, null, 2)}</pre>`;
            } else {
                result.innerHTML = '<p class="error">‚ùå ERROR: dataLayer not found.</p>';
            }
        }
        
        function checkNetwork() {
            const result = document.getElementById('network-result');
            result.innerHTML = '<p class="info">üìã Please check the Network tab in DevTools. Look for requests containing "gtag" or "collect".</p>';
        }
        
        function runAllTests() {
            const results = [];
            
            // Test 1: gtag function
            if (typeof gtag === 'function') {
                results.push('‚úÖ gtag function: LOADED');
            } else {
                results.push('‚ùå gtag function: NOT FOUND');
            }
            
            // Test 2: dataLayer
            if (window.dataLayer && Array.isArray(window.dataLayer)) {
                results.push(`‚úÖ dataLayer: EXISTS (${window.dataLayer.length} items)`);
            } else {
                results.push('‚ùå dataLayer: NOT FOUND');
            }
            
            // Test 3: Script tag
            const gaScript = document.querySelector('script[src*="googletagmanager"]');
            if (gaScript) {
                results.push(`‚úÖ GA Script tag: FOUND`);
                results.push(`   Source: ${gaScript.src}`);
            } else {
                results.push('‚ùå GA Script tag: NOT FOUND');
            }
            
            // Test 4: Check for GA ID
            const configItem = window.dataLayer?.find(item => item && item[0] === 'config');
            if (configItem && configItem[1]) {
                results.push(`‚úÖ GA Tracking ID: ${configItem[1]}`);
            } else {
                results.push('‚ö†Ô∏è GA Config: Could not find tracking ID');
            }
            
            document.getElementById('all-results').innerHTML = 
                '<h3>Test Results:</h3><pre>' + results.join('\n') + '</pre>';
            
            // Also log to console
            console.log('=== Google Analytics Test Results ===');
            results.forEach(r => console.log(r));
        }
        
        // Auto-run on page load
        window.addEventListener('load', function() {
            setTimeout(runAllTests, 2000); // Wait 2 seconds for GA to load
        });
    </script>
</body>
</html>







